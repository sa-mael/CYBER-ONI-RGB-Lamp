/* Black & White theme for the three‑panel skeleton (tri‑ prefix) */
:root{
  --tri-bg:#0a0a0a; --tri-fg:#f2f2f2; --tri-muted:#bdbdbd; --tri-line:#2a2a2a;
  --tri-card:#111111; --tri-chip:#151515; --tri-ac:#ffffff;
}
*{box-sizing:border-box} html,body{margin:0}
.tri-body{background:var(--tri-bg);color:var(--tri-fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

/* layout: menu | main | info */
.tri-grid{display:grid;gap:18px;padding:18px;grid-template-columns:84px 1fr 360px}
@media (max-width:1100px){.tri-grid{grid-template-columns:72px 1fr} .tri-info{display:none}}

/* MENU */
.tri-menu{position:sticky;top:18px;height:calc(100vh - 36px);display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:12px;gap:12px;border-radius:18px;border:1px solid var(--tri-line);background:rgba(255,255,255,.03);backdrop-filter:saturate(140%) blur(10px)}
.tri-logo{display:grid;place-items:center;width:46px;height:46px;border-radius:14px;background:#000;color:#fff;font-weight:800;box-shadow:0 0 0 2px rgba(255,255,255,.15)}
.tri-menu-nav{display:flex;flex-direction:column;gap:8px;align-items:center}
.tri-icn{display:grid;place-items:center;width:46px;height:46px;border-radius:12px;border:1px solid var(--tri-line);background:rgba(255,255,255,.06);color:#eaeaea;text-decoration:none}
.tri-icn:hover{background:rgba(255,255,255,.12)}
.tri-exit{margin-top:auto}

/* MAIN */

.card{
  width:100vh;
  height:100vh;
  position:relative;
  background:#292929;             /* виден, если нет картинки */
  overflow:hidden;
  filter: drop-shadow(0 12px 28px rgba(0,0,0,.22));
  transform: scale(var(--scale));
  transform-origin: top left;

  /* форма из скрина */
/* 1200×900 */
clip-path: path("M 480,840 L 480,540 A 60,60 0,0,0 420,480 L 180,480 A 60,60 0,0,1 120,420 L 120,60 A 60,60 0,0,1 180,0 L 480,0 L 540,60 L 720,60 L 780,0 L 1140,0 A 60,60 0,0,1 1200,60 L 1200,840 A 60,60 0,0,1 1140,900 L 540,900 A 60,60 0,0,1 480,840 Z");
}

/* чтобы фото заполнило форму */
.card > img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}

/* INFO */
.tri-info{display:grid;grid-template-rows:auto auto 1fr auto auto;gap:14px}
.tri-info-head{display:flex;flex-direction:column;gap:4px;padding:10px 12px;border-radius:14px;border:1px solid var(--tri-line);background:rgba(255,255,255,.03)}
.tri-co{font-weight:700;letter-spacing:.2px}
.tri-prod{color:var(--tri-muted);font-size:14px}

.tri-card{background:var(--tri-card);border:1px solid var(--tri-line);border-radius:18px;padding:12px}
.tri-h3{margin:0 0 6px 0;font-size:16px}
.tri-p{margin:0;color:var(--tri-muted)}

/* carousel */
.tri-slides{display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:6px}
.tri-slide{min-width:100%;scroll-snap-align:center;background:#0f0f0f;border:1px solid var(--tri-line);border-radius:14px;padding:12px}
.tri-slides::-webkit-scrollbar{height:6px} .tri-slides::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}

.tri-car-nav{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-top:8px}
.tri-btn{border:1px solid var(--tri-line);border-radius:12px;padding:8px 10px;background:#fff;color:#000;font-weight:800;cursor:pointer}
.tri-btn:hover{background:#eaeaea}
.tri-dots{display:flex;gap:6px}
.tri-dots i{display:block;width:8px;height:8px;border-radius:999px;background:#555}
.tri-dots i.is-active{background:var(--tri-ac)}

/* use block */
.tri-steps{margin:0;padding-left:18px;color:var(--tri-muted)}

/* link */
.tri-product-link{display:block;text-align:center;padding:10px;border:1px solid var(--tri-line);border-radius:14px;background:var(--tri-chip);color:var(--tri-fg);text-decoration:none}
.tri-product-link:hover{background:#1e1e1e}

/* footer */
.tri-foot{display:flex;justify-content:center;align-items:center;color:var(--tri-muted);border-top:1px solid var(--tri-line);padding:16px;margin:12px 18px}

 

:root{
  --Wpx:1200px;  /* база формы */
  --Hpx:900px;
  --s:1;         /* ЧИСЛО. Заполняется из JS */
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
.stage{min-height:100dvh;display:grid;place-items:center;background:#0e1116;color:#e6edf3}

/* ВНЕШНИЙ контейнер реального размера на странице */
.box{
  position:relative;
  width:  calc(var(--Wpx) * var(--s));   /* length * number — валидно */
  height: calc(var(--Hpx) * var(--s));
}

/* Внутренняя база 1200×900, визуально масштабируем */
.frame{
  position:absolute; inset:0;
  width: var(--Wpx); height: var(--Hpx);
  transform: scale(var(--s));
  transform-origin: top left;
}

/* Форма с твоим path */
.shape{
  position:absolute; inset:0;
  background:#1b222c;
  clip-path: path("M 480,840 L 480,540 A 60,60 0,0,0 420,480 L 180,480 A 60,60 0,0,1 120,420 L 120,60 A 60,60 0,0,1 180,0 L 480,0 L 540,60 L 720,60 L 780,0 L 1140,0 A 60,60 0,0,1 1200,60 L 1200,840 A 60,60 0,0,1 1140,900 L 540,900 A 60,60 0,0,1 480,840 Z");
  box-shadow: 0 0 0 3px #ff3b30;
  overflow:hidden; /* чтобы 3D не вылазило */
}

/* 3D внутри формы */
.viewer{ width:100%; height:100%; display:block; background:linear-gradient(135deg,#1b2635,#111a24) }

/* Нежмяный UI поверх (обратный масштаб) */
.ui{
  position:absolute; inset:0;
  width: var(--Wpx); height: var(--Hpx);
  left:50%; top:50%; translate:-50% -50%;
  transform: scale(calc(1 / var(--s)));
  transform-origin: center;
  display:grid; place-items:center;
  pointer-events:none;
}